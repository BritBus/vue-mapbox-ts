var index=function(e,t,o,a,n){"use strict";function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=l(o),i=l(a),c=l(n);var p=t.defineComponent({name:"MapboxMap",props:{accessToken:{type:String,default:""},height:{type:String,default:"500px"},width:{type:String,default:"100%"},container:{type:[Object,String]||String,default:""},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:22},minPitch:{type:Number,default:0},maxPitch:{type:Number,default:60},mapStyle:{type:[Object,String],default:"mapbox://styles/mapbox/streets-v11"},hash:{type:Boolean,default:!1},interactive:{type:Boolean,default:!0},bearingSnap:{type:Number,default:7},pitchWithRotate:{type:Boolean,default:!0},clickTolerance:{type:Number,default:3},attributionControl:{type:Boolean,default:!0},customAttribution:{type:Array,default:null},logoPosition:{type:String,default:"bottom-left"},failIfMajorPerformanceCaveat:{type:Boolean,default:!1},preserveDrawingBuffer:{type:Boolean,default:!1},antialias:{type:Boolean,default:!1},refreshExpiredTiles:{type:Boolean,default:!0},maxBounds:{type:Array,default:void 0},scrollZoom:{type:[Boolean,Object],default:!0},boxZoom:{type:Boolean,default:!0},dragRotate:{type:Boolean,default:!0},dragPan:{type:[Object,Boolean],default:!0},keyboard:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},touchZoomRotate:{type:[Boolean,Object],default:!0},trackResize:{type:Boolean,default:!0},center:{type:[Object,Array],default:()=>[0,0]},zoom:{type:Number,default:0},bearing:{type:Number,default:0},pitch:{type:Number,default:0},bounds:{type:Array,default:void 0},fitBoundsOptions:{type:Object,default:null},renderWorldCopies:{type:Boolean,default:!0},maxTileCacheSize:{type:Number,default:null},localIdeographFontFamily:{type:String,default:"sans-serif"},transformRequest:{type:Function,default:null},collectResourceTiming:{type:Boolean,default:!1},fadeDuration:{type:Number,default:300},crossSourceCollisions:{type:Boolean,default:!0},zoomLogo:{type:Number,default:1},hideAttribution:{type:Boolean,default:!1}},setup:(e,o)=>{console.log("SETUP");const a=t.getCurrentInstance();console.log(k),console.log(a);const n=t.ref(null),l=new i.default;return t.provide("vmb_map",l),t.onMounted((()=>{console.log("MOUNTED"),console.log(t.getCurrentInstance()),r.default.accessToken=e.accessToken,((e,t,o)=>{(()=>{const a=o.value,n=((e,t)=>({accessToken:e.accessToken,container:e.container||t,style:e.mapStyle}))(e,a),l=new r.default.Map(n);l.on("load",(()=>{t.resolve(l)}))})()})(e,l,n)})),{vmb_map:l,root:n}},computed:{style(){return{height:this.height,width:this.width,"--zoom-logo":this.zoomLogo>=.8?this.zoomLogo:1,"--display-attrib":this.hideAttribution?"none":"block"}}}});const u=t.withScopeId("data-v-b7bc1cb2");t.pushScopeId("data-v-b7bc1cb2");const s={key:1};t.popScopeId();const d=u(((e,o,a,n,l,r)=>(t.openBlock(),t.createBlock("div",{style:e.style},[e.vmb_map.isResolved?(t.openBlock(),t.createBlock("div",{key:0,ref:"root",style:e.style},[t.renderSlot(e.$slots,"default")],4)):(t.openBlock(),t.createBlock("div",s,[t.renderSlot(e.$slots,"loader",{},(()=>[t.createVNode("div",{style:e.style},null,4)]))]))],4))));!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}("[data-v-b7bc1cb2] .mapboxgl-ctrl-logo {\n  zoom: var(--zoom-logo);\n}\n[data-v-b7bc1cb2] .mapboxgl-ctrl.mapboxgl-ctrl-attrib:last-child {\n  display: var(--display-attrib);\n}"),p.render=d,p.__scopeId="data-v-b7bc1cb2";var m={setup:()=>({vmb_map:t.inject("vmb_map")})};var f=t.defineComponent({props:{lngLat:{default:()=>[0,0]},element:{type:HTMLElement,default:null},offset:{type:[Array],default:()=>[0,0]},anchor:{type:String,default:()=>"left"},color:{type:String,default:null},scale:{type:Number,default:1},draggable:{type:Boolean,default:!1},rotation:{type:Number,default:0},pitchAlignment:{type:String,default:"auto"},rotationAlignment:{type:String,default:"auto"}},setup(e){const{vmb_map:o}=m.setup(),a=new c.default,n=t.ref(e.lngLat),l=t.ref(null);return t.provide("vmb_marker",a),t.onMounted((()=>{})),{vmb_map:o,vmb_marker:a,i_lngLat:n,i_popups:l}},watch:{$children(e){console.log("CHILDREN CHANGED"),console.log(e)}},async mounted(){const e=await this.vmb_map.promise,t=(e=>{const{element:t,offset:o,anchor:a,color:n,draggable:l,clickTolerance:r,rotation:i,rotationAlignment:c,pitchAlignment:p,scale:u}=e;return{element:t,offset:o,anchor:a,color:n,draggable:l,clickTolerance:r,rotation:i,rotationAlignment:c,pitchAlignment:p,scale:u}})(this.$props),a=new o.Marker(t).setLngLat(this.lngLat);a.addTo(e),this.vmb_marker.resolve(a)}});f.render=function(e,o,a,n,l,r){return t.openBlock(),t.createBlock("div",null,[t.renderSlot(e.$slots,"default")])};var y=t.defineComponent({props:{showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:{type:Boolean,default:!1},position:{type:String,default:()=>"top-right"}},setup(e){const o=t.inject("vmb_map"),a=(e=>{const{showCompass:t,showZoom:o,vizualizePitch:a}=e;return{showCompass:t,showZoom:o,vizualizePitch:a}})(e),n=new r.default.NavigationControl(a),l=e.position;return t.onMounted((()=>{((e,t,o)=>{(async()=>{(await t.promise).addControl(e,o)})()})(n,o,l)})),{vmb_map:o}}});y.render=function(e,o,a,n,l,r){return t.openBlock(),t.createBlock("div")};var b=t.defineComponent({props:{lngLat:{default:()=>[0,0]},closeButton:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},closeOnMove:{type:Boolean,default:!1},anchor:{type:String,default:void 0},offset:{type:Number,default:void 0},className:{type:String},maxWidth:{type:String,default:"500px"},renderless:{type:Boolean,default:!1}},setup(e){const o=t.ref(null),a=t.ref(null),n=t.inject("vmb_marker"),l=t.inject("vmb_map"),i=(e=>{const{closeButton:t,closeOnClick:o,closeOnMove:a,focusAfterOpen:n,anchor:l,offset:r,className:i,maxWidth:c}=e;return{closeButton:t,closeOnClick:o,closeOnMove:a,focusAfterOpen:n,anchor:l,offset:r,className:i,maxWidth:c}})(e),c=new r.default.Popup(i).setLngLat(e.lngLat);return t.onMounted((async()=>{const e=t.getCurrentInstance();await(async(e,t,o,a,n)=>{const l=await a.promise,r=t;r.setDOMContent(n.value),(e=>e.parent.provides.vmb_marker)(e)?await(async(e,t,o)=>{t&&(await t.promise).setPopup(o)})(0,o,r):r.addTo(l)})(e,c,n,l,o)})),{vmb_marker:n,vmb_popup:c,popupOptions:i,content:o,defaultContent:a,vmb_map:l}}});const v={ref:"content"};b.render=function(e,o,a,n,l,r){return t.openBlock(),t.createBlock("div",null,[t.createVNode("div",v,[t.renderSlot(e.$slots,"default")],512)])};var g=t.defineComponent({props:{compact:{type:Boolean,default:!1},customAttribution:{type:[String,Array],default:void 0}},setup(e){const o=(e=>{const{compact:t,customAttribution:o}=e;return{compact:t,customAttribution:o}})(e),a=new r.default.AttributionControl(o),n=t.inject("vmb_map");return t.onMounted((async()=>{n&&(async(e,t)=>{(await e.promise).addControl(t)})(n,a)})),{vmb_attributionControl:a,vmb_map:n}}});g.render=function(e,o,a,n,l,r){return t.openBlock(),t.createBlock("div")};var h=t.defineComponent({props:{maxWidth:{type:Number,default:100},unit:{type:String,default:"metric"}},setup(e){const o=(e=>{const{maxWidth:t,unit:o}=e;return{maxWidth:t,unit:o}})(e),a=new r.default.ScaleControl(o),n=t.inject("vmb_map",null);return t.onMounted((async()=>{n&&await(async(e,t)=>{(await e.promise).addControl(t)})(n,a)})),{vmb_scaleControl:a,vmb_map:n}}});h.render=function(e,o,a,n,l,r){return t.openBlock(),t.createBlock("div")};var B=t.defineComponent({props:{positionOptions:{type:Object,default:()=>({enableHighAccuracy:!1,timeout:6e3})},fitBoundsOptions:{type:Object,default:()=>({maxZoom:15})},trackUserLocation:{type:Boolean,default:!1},showAccuracyCircle:{type:Boolean,default:!0},showUserLocation:{type:Boolean,default:!0}},setup(e){const o=t.inject("vmb_map"),a=(e=>{const{fitBoundsOptions:t,positionOptions:o,showAccuracyCircle:a,showUserLocation:n,trackUserLocation:l}=e;return{fitBoundsOptions:t,positionOptions:o,showAccuracyCircle:a,showUserLocation:n,trackUserLocation:l}})(e),n=new r.default.GeolocateControl(a);return t.onMounted((async()=>{(await o.promise).addControl(n)})),{vmb_map:o,vmb_geolocationControl:n}}});B.render=function(e,o,a,n,l,r){return t.openBlock(),t.createBlock("div")};var C=Object.freeze({__proto__:null,MapboxMap:p,MapboxMarker:f,MapboxNavigationControl:y,MapboxPopup:b,MapboxAttributionControl:g,MapboxScaleControl:h,MapboxGeolocateControl:B});let k;return e.MapboxAttributionControl=g,e.MapboxGeolocateControl=B,e.MapboxMap=p,e.MapboxMarker=f,e.MapboxNavigationControl=y,e.MapboxPopup=b,e.MapboxScaleControl=h,e.default=e=>{k=e,Object.keys(C).forEach((t=>{e.component(t,C[t])}))},Object.defineProperty(e,"__esModule",{value:!0}),e}({},Vue,mapboxgl,Deferred,Deferred$1);